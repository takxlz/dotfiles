
# -----------------------------------------------------------------------------------
# 一般設定

set -g default-command ""

# マウス操作を有効にする
setw -g mouse on

# ヴィジュアルノーティフィケーションを有効にする
setw -g monitor-activity on
set -g visual-activity on

# コマンドラインの色を設定する
set -g message-style fg=white,bg=black,bright

# リフレッシュの間隔を設定する(デフォルト 15秒)
set -g status-interval 1

# コピーモードを設定する（vi）
setw -g mode-keys vi

# キーストロークのディレイを減らす
set -sg escape-time 1

# ウィンドウのインデックスを1から始める
set -g base-index 1

# ペインのインデックスを1から始める
setw -g pane-base-index 1


# -----------------------------------------------------------------------------------
# キーバインドの設定

# C-bのキーバインドを解除する
unbind C-b

# prefixキーをC-tに変更する
# set -g prefix C-t
set -g prefix C-Space

# 設定ファイルをリロードする
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# ペインを縦に分割する
bind v split-window -h

# ペインを横に分割する
bind s split-window -v

# Vimのキーバインドでペインを移動する
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Vimのキーバインドでペインをリサイズする
bind -r < resize-pane -L 5
bind -r > resize-pane -R 5
bind -r + resize-pane -D 5
bind -r - resize-pane -U 5

# ウィンドウ（タブ）のスワップ
# nオプションでtmuxのプレフィックスが不必要となる
bind -n C-S-Left swap-window -t -1\; select-window -t -1
bind -n C-S-Right swap-window -t +1\; select-window -t +1


# -----------------------------------------------------------------------------------
# アピアランスの設定

# ----------------------------------------------------------
# ステータスバー/ウィンドウリストの設定

# ステータスバーを有効にする
set -g status on

# 256色端末を使用する
set -g default-terminal "screen-256color"

## ウィンドウリストの位置を中心寄せにする
set -g status-justify "left"

## ステータスバーを下部に表示する
set -g status-position bottom

# 文字セット
RIGHT_ARROW_BOLD="\ue0b0"
RIGHT_ARROW_THIN="\ue0b1"
LEFT_ARROW_BOLD="\ue0b2"


# カラーセット
BLACK="brack"
WHITE="white"
DARK_WHITE="colour242"
GRAY="colour235"
BRIGHT_GRAY="colour241"
BLUE="colour31"
COMPONENT_COLOR_SET="#[fg=${WHITE},bg=${GRAY}]"             # 白、灰
COMPONENT_COLOR_SET2="#[fg=${DARK_WHITE},bg=${GRAY}]"       # 暗白、灰
COMPONENT_COLOR_SET3="#[fg=${WHITE},bg=${BRIGHT_GRAY}]"     # 白、明灰
HEAD_ARROW_COLOR_SET="#[fg=${BRIGHT_GRAY},bg=${GRAY}]"      # 明灰、灰
# TAIL_ARROW_COLOR_SET="#[fg=${GRAY},bg=${BRIGHT_GRAY}]"    # 灰、明灰
CURRENT_COMPONENT_COLOR_SET="#[fg=${WHITE},bg=${BLUE}]"     # 白、青
CURRENT_HEAD_ARROW_COLOR_SET="#[fg=${BLUE},bg=${GRAY}]"     # 青、灰
CURRENT_TAIL_ARROW_COLOR_SET="#[fg=${GRAY},bg=${BLUE}]"     # 灰、青

# ステータスバーの色を設定する
set -g status-style fg="${WHITE}",bg="${GRAY}"

# ウィンドウリストの設定をする
setw -g window-status-style fg="${WHITE}",bg="${GRAY}"
setw -g window-status-format "${COMPONENT_COLOR_SET2} #I ${RIGHT_ARROW_THIN} #W"
# setw -g window-status-format "${TAIL_ARROW_COLOR_SET}${RIGHT_ARROW_BOLD} ${COMPONENT_COLOR_SET2}#I ${RIGHT_ARROW_THIN} #W ${HEAD_ARROW_COLOR_SET}${ARROW_BOLD}"

# カレントウィンドウリストの設定をする
setw -g window-status-current-style fg="${WHITE}",bg="${BLUE},bright"
setw -g window-status-current-format "${CURRENT_TAIL_ARROW_COLOR_SET}${RIGHT_ARROW_BOLD} ${CURRENT_COMPONENT_COLOR_SET}#I ${RIGHT_ARROW_THIN} #W ${CURRENT_HEAD_ARROW_COLOR_SET}${RIGHT_ARROW_BOLD}"

# アクティブになったウィンドウの設定
setw -g window-status-activity-style bg="${GRAY}"

# 左パネルを設定する
set -g status-left "${COMPONENT_COLOR_SET3} [#P] ${HEAD_ARROW_COLOR_SET}${RIGHT_ARROW_BOLD}"

# 右パネルを設定する
set -g status-right-length 150
set -g status-right "${COMPONENT_COLOR_SET} #{pane_current_path} ${HEAD_ARROW_COLOR_SET}${LEFT_ARROW_BOLD}${COMPONENT_COLOR_SET3}#h "
# set -g status-right "#[fg=green][%Y-%m-%d(%a) %H:%M] #[fg=cyan]mouse:#(tmux show-option -gw mouse|sed 's/mouse //')"

# マウスモードのトグル(マウスモードがonだと選択がバグるため)
# bind m if-shell "tmux show-options -gw mouse | grep off" "setw -g mouse on" "setw -g mouse off"


# ----------------------------------------------------------
# ペインの設定

# ペインボーダーの色を設定する
set -g pane-border-style fg="colour235",bg=default

# アクティブなペインを目立たせる
set -g pane-active-border-style fg="colour95",bg="colour235"



